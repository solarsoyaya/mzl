# AI医院管理系统 - 在线部署指南

## 概述

本指南将帮助您将 AI医院管理系统 部署到免费的静态网站托管服务，让您可以获得一个在线网址，直接分享给别人体验。

## 推荐的免费托管服务

### 1. Vercel（推荐）
- **优势**：部署速度快，自动HTTPS，全球CDN
- **网址**：https://vercel.com
- **部署时间**：约2-3分钟

### 2. Netlify
- **优势**：功能丰富，支持表单处理，自动部署
- **网址**：https://netlify.com
- **部署时间**：约3-5分钟

### 3. GitHub Pages
- **优势**：与GitHub深度集成，完全免费
- **网址**：https://pages.github.com
- **部署时间**：约5-10分钟

## 方案一：使用 Vercel 部署（推荐）

### 步骤1：准备工作
1. 确保项目已经推送到 GitHub 仓库
2. 注册 Vercel 账号：https://vercel.com

### 步骤2：连接 GitHub
1. 登录 Vercel 控制台
2. 点击 "New Project"
3. 选择 "Import Git Repository"
4. 授权 Vercel 访问您的 GitHub 账号
5. 选择您的项目仓库

### 步骤3：配置部署设置
1. **Project Name**：输入项目名称（如：ai-hospital-admin）
2. **Framework Preset**：选择 "Vite" 或 "Other"
3. **Root Directory**：保持默认（./）
4. **Build Command**：`pnpm run build`
5. **Output Directory**：`dist`
6. **Install Command**：`pnpm install`

### 步骤4：部署
1. 点击 "Deploy" 按钮
2. 等待构建完成（约2-3分钟）
3. 部署成功后，您将获得一个类似 `https://your-project.vercel.app` 的网址

### 步骤5：自定义域名（可选）
1. 在 Vercel 项目设置中点击 "Domains"
2. 添加您的自定义域名
3. 按照提示配置 DNS 记录

## 方案二：使用 Netlify 部署

### 步骤1：准备工作
1. 确保项目已经推送到 GitHub 仓库
2. 注册 Netlify 账号：https://netlify.com

### 步骤2：连接 GitHub
1. 登录 Netlify 控制台
2. 点击 "New site from Git"
3. 选择 "GitHub"
4. 授权 Netlify 访问您的 GitHub 账号
5. 选择您的项目仓库

### 步骤3：配置构建设置
1. **Branch to deploy**：选择 `main` 或 `master`
2. **Build command**：`pnpm run build`
3. **Publish directory**：`dist`

### 步骤4：高级设置
1. 点击 "Show advanced"
2. 添加环境变量（如果需要）
3. 确认 `netlify.toml` 配置文件已存在

### 步骤5：部署
1. 点击 "Deploy site" 按钮
2. 等待构建完成（约3-5分钟）
3. 部署成功后，您将获得一个类似 `https://random-name.netlify.app` 的网址

### 步骤6：自定义域名（可选）
1. 在站点设置中点击 "Domain management"
2. 点击 "Add custom domain"
3. 按照提示配置域名

## 方案三：使用 GitHub Pages 部署

### 步骤1：创建 GitHub Actions 工作流
在项目根目录创建 `.github/workflows/deploy.yml`：

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v3
      
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Setup pnpm
      uses: pnpm/action-setup@v2
      with:
        version: 8
        
    - name: Install dependencies
      run: pnpm install
      
    - name: Build
      run: pnpm run build
      
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./dist
```

### 步骤2：启用 GitHub Pages
1. 进入 GitHub 仓库设置
2. 滚动到 "Pages" 部分
3. 在 "Source" 中选择 "GitHub Actions"
4. 推送代码触发自动部署

### 步骤3：访问网站
部署完成后，您的网站将在 `https://yourusername.github.io/repository-name` 可用

## 重要配置说明

### Vite 配置优化
确保 `vite.config.js` 包含以下配置：

```javascript
export default defineConfig({
  plugins: [vue()],
  base: './', // 重要：确保资源路径正确
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
    rollupOptions: {
      output: {
        manualChunks: undefined,
      },
    },
  },
  // ... 其他配置
})
```

### 路由配置
如果使用 Vue Router 的 history 模式，需要：

1. **Vercel**：`vercel.json` 已配置重定向规则
2. **Netlify**：`netlify.toml` 已配置重定向规则
3. **GitHub Pages**：可能需要添加 `404.html` 文件

## 自动部署设置

### 启用自动部署
1. **Vercel/Netlify**：默认启用，每次推送到主分支自动部署
2. **GitHub Pages**：通过 GitHub Actions 自动部署

### 部署状态检查
- **Vercel**：在项目面板查看部署状态
- **Netlify**：在站点概览查看部署历史
- **GitHub Pages**：在 Actions 标签查看工作流状态

## 常见问题解决

### 1. 构建失败
- 检查 Node.js 版本是否兼容
- 确认所有依赖都已正确安装
- 查看构建日志中的错误信息

### 2. 页面空白
- 检查 `base` 配置是否正确
- 确认路由配置是否正确
- 查看浏览器控制台错误

### 3. 资源加载失败
- 确认 `vite.config.js` 中的 `base` 设置
- 检查构建输出的资源路径

### 4. 路由404错误
- 确认重定向规则配置正确
- 检查路由模式设置

## 分享您的应用

部署完成后，您将获得一个在线网址，例如：
- Vercel: `https://ai-hospital-admin.vercel.app`
- Netlify: `https://ai-hospital-admin.netlify.app`
- GitHub Pages: `https://yourusername.github.io/ai-hospital-admin`

您可以直接将这个网址分享给任何人，他们点击后就能立即体验您的应用，无需任何安装或配置。

## 性能优化建议

1. **启用 Gzip 压缩**：大多数托管服务默认启用
2. **使用 CDN**：Vercel 和 Netlify 自带全球 CDN
3. **图片优化**：使用 WebP 格式，启用懒加载
4. **代码分割**：Vite 默认支持，无需额外配置

## 监控和分析

1. **Vercel Analytics**：免费的访问统计
2. **Netlify Analytics**：详细的流量分析
3. **Google Analytics**：添加到应用中进行深度分析

---

选择任一方案，按照步骤操作，几分钟内就能获得一个可以直接分享的在线网址！